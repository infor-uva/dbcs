<div class="container">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <mat-card>
      <mat-card-title class="flex text-center p-4">
        <strong class="text-5xl">Login</strong>
      </mat-card-title>
      <mat-card-content>
        <div class="form-group">
          <label class="text-2xl" for="email">Email:</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            class="form-control"
          />
          @if (loginForm.get('email')?.invalid &&
          loginForm.get('email')?.touched) {
          <div>
            <small class="text-red-500 font-bold"
              >Email is required and must be valid.</small
            >
          </div>
          }
        </div>

        <div class="form-group">
          <label class="text-2xl" for="password">Password:</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            class="form-control"
          />
          @if (loginForm.get('password')?.invalid &&
          loginForm.get('password')?.touched){

          <div>
            <small class="text-red-500 font-bold">Password is required.</small>
          </div>
          }
        </div>

        <div class="form-group text-2xl">
          <label class="text-2xl" for="rol">Rol:</label>
          <mat-form-field class="w-full" formControlName="rol">
            <mat-label class="text-2xl">Seleccione un rol</mat-label>
            <mat-select [(value)]="selectedRol" name="rol">
              @for (rol of rolOptions; track rol) {
              <mat-option [value]="rol">
                <span class="text-2xl">{{ rol }}</span>
              </mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>
        <mat-card-actions class="flex justify-center mb-5">
          <button
            type="submit"
            class="btn btn-success text-4xl"
            [disabled]="loginForm.invalid"
          >
            Login
          </button>
        </mat-card-actions>
        @if (errorMessage) {
        <div class="text-red-500 font-bold">
          {{ errorMessage }}
        </div>
        }
      </mat-card-content>
    </mat-card>
  </form>
</div>
